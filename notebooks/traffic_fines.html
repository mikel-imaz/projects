

<!DOCTYPE html>


<html lang="en" data-content_root="" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>Traffic Fines &#8212; datuz</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=5b4479735964841361fd" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=5b4479735964841361fd" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=5b4479735964841361fd" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=5b4479735964841361fd" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=5b4479735964841361fd" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=5b4479735964841361fd" />
  <script src="../_static/vendor/fontawesome/6.1.2/js/all.min.js?digest=5b4479735964841361fd"></script>

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js"></script>
    <script async="async" src="https://www.googletagmanager.com/gtag/js?id=G-232XT3FYCT"></script>
    <script>
                window.dataLayer = window.dataLayer || [];
                function gtag(){ dataLayer.push(arguments); }
                gtag('js', new Date());
                gtag('config', 'G-232XT3FYCT');
            </script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'notebooks/traffic_fines';</script>
    <link rel="shortcut icon" href="../_static/logo.png"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Urban Trees" href="urban_trees.html" />
    <link rel="prev" title="Handfan Reviews" href="olele.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>

  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  

<a class="navbar-brand logo" href="../intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/logo.png" class="logo__image only-light" alt="datuz - Home"/>
    <script>document.write(`<img src="../_static/logo.png" class="logo__image only-dark" alt="datuz - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../intro.html">
                    Data projects
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1 current active has-children"><a class="reference internal" href="../projects-my.html">Personal projects</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="ages.html">Median Ages</a></li>
<li class="toctree-l2"><a class="reference internal" href="water.html">Water Supplies</a></li>
<li class="toctree-l2"><a class="reference internal" href="quakes.html">Earth Quakes</a></li>
<li class="toctree-l2"><a class="reference internal" href="climate.html">Climate Change</a></li>
<li class="toctree-l2"><a class="reference internal" href="antio.html">Bar Reviews</a></li>
<li class="toctree-l2"><a class="reference internal" href="olele.html">Handfan Reviews</a></li>
<li class="toctree-l2 current active"><a class="current reference internal" href="#">Traffic Fines</a></li>
<li class="toctree-l2"><a class="reference internal" href="urban_trees.html">Urban Trees</a></li>
<li class="toctree-l2"><a class="reference internal" href="breads.html">Bread Prices</a></li>
<li class="toctree-l2"><a class="reference internal" href="ignatian.html">Ignatian Pilgrims</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../projects-challenge.html">Challenge projects</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-2"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="hospital.html">Reducing hospital readmissions</a></li>
<li class="toctree-l2"><a class="reference internal" href="hotels.html">Predicting hotel cancellations</a></li>
<li class="toctree-l2"><a class="reference internal" href="webpage.html">Was a website redesign successful?</a></li>
<li class="toctree-l2"><a class="reference internal" href="segmentation.html">Improving customer segmentation</a></li>
</ul>
</li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">About</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference external" href="http://datuz.es">datuz</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">


<a href="https://github.com/mikel-imaz/projects" target="_blank"
   class="btn btn-sm btn-source-repository-button"
   title="Source repository"
   data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>

</a>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/notebooks/traffic_fines.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Traffic Fines</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#background">Background</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#the-data">The data</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#data-validation">Data validation</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#exploratory-data-analysis">Exploratory Data Analysis</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#fines-by-street">Fines by street</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#fines-by-year">Fines by year</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#fines-by-year-and-street">Fines by year and street</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#money-collected-from-fines">Money collected from fines</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#conclusions">Conclusions</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="traffic-fines">
<h1>Traffic Fines<a class="headerlink" href="#traffic-fines" title="Permalink to this heading">#</a></h1>
<p><img alt="img/traffic_fines.jpg" src="../_images/traffic_fines.jpg" /></p>
<p>Jan, 2023</p>
<blockquote>
<div><p><em>Open Data, Data Analysis, Choropleth maps</em></p>
</div></blockquote>
<section id="background">
<h2>Background<a class="headerlink" href="#background" title="Permalink to this heading">#</a></h2>
<p>To make a data project, first you need data. One possibility is to collect it yourself, making it a <em>quantifying</em> project for a start. Another alternative is to directly ask for the data to the people who have it. And then, there is sometimes the option of downloading it from the internet as <a class="reference external" href="https://en.wikipedia.org/wiki/Open_data">open data</a>, which is what I did for this project.</p>
<p>I was curious about what the local government was publishing as open data. The datasets I found were not particularly exciting, much of it was about municipal finances and some demographics. But I came across the information of traffic fines during the last few years, and I thought I would give it a try.</p>
<p>With open data, institutions aim to become more transparent to the public. The data is shared, it is available for anyone to take a look at it, but usually it is not that simple. You need a data project to make sense of it. Once you convert the numbers into graphics and insightful information, only then the data comes alive and you can figure out what is going on.</p>
</section>
<section id="the-data">
<h2>The data<a class="headerlink" href="#the-data" title="Permalink to this heading">#</a></h2>
<p>I downloaded the CSV files from this link, containing traffic fines in my town from 2018 to 2022.</p>
<p><a class="reference external" href="https://www.gipuzkoairekia.eus/es/datu-irekien-katalogoa/-/openDataSearcher/detail/detailView/b4db402e-6fd6-48f9-bd0a-a137902a3f1a">https://www.gipuzkoairekia.eus/</a></p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Import packages</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="kn">import</span> <span class="nn">geopandas</span> <span class="k">as</span> <span class="nn">gpd</span>
<span class="kn">import</span> <span class="nn">contextily</span>
<span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">Markdown</span>

<span class="c1"># Read the data</span>
<span class="n">usecols</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">]</span> <span class="c1"># Useful columns</span>
<span class="n">fines_2018</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;data/multas_2018.csv&quot;</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s2">&quot;;&quot;</span><span class="p">,</span> <span class="n">decimal</span><span class="o">=</span><span class="s2">&quot;,&quot;</span><span class="p">,</span> <span class="n">usecols</span><span class="o">=</span><span class="n">usecols</span><span class="p">)</span>
<span class="n">fines_2019</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;data/multas_2019.csv&quot;</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s2">&quot;;&quot;</span><span class="p">,</span> <span class="n">decimal</span><span class="o">=</span><span class="s2">&quot;,&quot;</span><span class="p">,</span> <span class="n">usecols</span><span class="o">=</span><span class="n">usecols</span><span class="p">)</span>
<span class="n">fines_2020</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;data/multas_2020.csv&quot;</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s2">&quot;;&quot;</span><span class="p">,</span> <span class="n">decimal</span><span class="o">=</span><span class="s2">&quot;,&quot;</span><span class="p">,</span> <span class="n">usecols</span><span class="o">=</span><span class="n">usecols</span><span class="p">)</span>
<span class="n">fines_2021</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;data/multas_2021.csv&quot;</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s2">&quot;;&quot;</span><span class="p">,</span> <span class="n">decimal</span><span class="o">=</span><span class="s2">&quot;,&quot;</span><span class="p">,</span> <span class="n">usecols</span><span class="o">=</span><span class="n">usecols</span><span class="p">)</span>
<span class="n">fines_2022</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;data/multas_2022.csv&quot;</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s2">&quot;;&quot;</span><span class="p">,</span> <span class="n">decimal</span><span class="o">=</span><span class="s2">&quot;,&quot;</span><span class="p">,</span> <span class="n">usecols</span><span class="o">=</span><span class="n">usecols</span><span class="p">)</span>

<span class="c1"># Concatenate the data from different years into a unique dataset</span>
<span class="n">fines</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">fines_2018</span><span class="p">,</span> <span class="n">fines_2019</span><span class="p">,</span> <span class="n">fines_2020</span><span class="p">,</span> <span class="n">fines_2021</span><span class="p">,</span> <span class="n">fines_2022</span><span class="p">])</span>

<span class="c1"># Rename columns</span>
<span class="n">fines</span> <span class="o">=</span> <span class="n">fines</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;AÑO&quot;</span><span class="p">:</span> <span class="s2">&quot;year&quot;</span><span class="p">,</span>
                              <span class="s2">&quot;NOMBRE CALLE&quot;</span><span class="p">:</span> <span class="s2">&quot;street&quot;</span><span class="p">,</span>
                              <span class="s2">&quot;CALIFICACION&quot;</span><span class="p">:</span> <span class="s2">&quot;category&quot;</span><span class="p">,</span>
                              <span class="s2">&quot;NRO MULTAS&quot;</span><span class="p">:</span> <span class="s2">&quot;fines&quot;</span><span class="p">,</span>
                              <span class="s2">&quot;IMPORTE PAGADO&quot;</span><span class="p">:</span> <span class="s2">&quot;paid&quot;</span><span class="p">,</span>
                              <span class="s2">&quot;IMPORTE PENDIENTE DE PAGO EN EJECUTIVA&quot;</span><span class="p">:</span> <span class="s2">&quot;unpaid&quot;</span><span class="p">})</span>
<span class="nb">print</span><span class="p">(</span><span class="n">fines</span><span class="p">)</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>    year                street   category  fines    paid  unpaid
0   2018                   NaN       LEVE      2    15.0    0.00
1   2018  GELTOKIEN ENPARANTZA      GRAVE      3     0.0  234.95
2   2018  GELTOKIEN ENPARANTZA       LEVE     52   640.8  279.15
3   2018  GELTOKIEN ENPARANTZA  MUY GRAVE      2   500.0    0.00
4   2018    EUSKADI ENPARANTZA      GRAVE      4   200.0  244.95
..   ...                   ...        ...    ...     ...     ...
75  2022              IBAIONDO      GRAVE      2   200.0    0.00
76  2022              IBAIONDO       LEVE     45   385.0  259.65
77  2022  ESKUALDEKO OSPITALEA      GRAVE     34  2100.0  949.80
78  2022  ESKUALDEKO OSPITALEA       LEVE     62   675.0  533.55
79  2022                 ANTIO       LEVE      1     0.0    0.00

[340 rows x 6 columns]
</pre></div>
</div>
</div>
</div>
<p>As shown in the dataframe above, the number of fines related to the year and street is already aggregated into three different categories:</p>
<ul class="simple">
<li><p>LEVE, for mild traffic offences.</p></li>
<li><p>GRAVE, for serious ones.</p></li>
<li><p>MUY GRAVE, for very serious ones.</p></li>
</ul>
</section>
<section id="data-validation">
<h2>Data validation<a class="headerlink" href="#data-validation" title="Permalink to this heading">#</a></h2>
<p>Data inspection shows some missing values.</p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Dataframe inspection</span>
<span class="n">fines</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
Int64Index: 340 entries, 0 to 79
Data columns (total 6 columns):
 #   Column    Non-Null Count  Dtype  
---  ------    --------------  -----  
 0   year      340 non-null    int64  
 1   street    337 non-null    object 
 2   category  340 non-null    object 
 3   fines     340 non-null    int64  
 4   paid      340 non-null    float64
 5   unpaid    340 non-null    float64
dtypes: float64(2), int64(2), object(2)
memory usage: 18.6+ KB
</pre></div>
</div>
</div>
</div>
<p>Only 3 rows out of 340 have missing values, and with few fine quantities, so I just drop them.</p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Rows with NaN values</span>
<span class="nb">print</span><span class="p">(</span><span class="n">fines</span><span class="p">[</span><span class="n">fines</span><span class="p">[</span><span class="s2">&quot;street&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">isna</span><span class="p">()])</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>   year street   category  fines   paid  unpaid
0  2018    NaN       LEVE      2   15.0     0.0
0  2020    NaN  MUY GRAVE      2  120.0     0.0
0  2021    NaN  MUY GRAVE      1    0.0     0.0
</pre></div>
</div>
</div>
</div>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Discard rows with NaN values</span>
<span class="n">fines</span> <span class="o">=</span> <span class="n">fines</span><span class="p">[</span><span class="o">~</span><span class="n">fines</span><span class="p">[</span><span class="s2">&quot;street&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">isna</span><span class="p">()]</span>
</pre></div>
</div>
</div>
</details>
</div>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Check dataframe</span>
<span class="n">fines</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
Int64Index: 337 entries, 1 to 79
Data columns (total 6 columns):
 #   Column    Non-Null Count  Dtype  
---  ------    --------------  -----  
 0   year      337 non-null    int64  
 1   street    337 non-null    object 
 2   category  337 non-null    object 
 3   fines     337 non-null    int64  
 4   paid      337 non-null    float64
 5   unpaid    337 non-null    float64
dtypes: float64(2), int64(2), object(2)
memory usage: 18.4+ KB
</pre></div>
</div>
</div>
</div>
<p>As data types are already correct, no further measures are needed.</p>
</section>
<section id="exploratory-data-analysis">
<h2>Exploratory Data Analysis<a class="headerlink" href="#exploratory-data-analysis" title="Permalink to this heading">#</a></h2>
<section id="fines-by-street">
<h3>Fines by street<a class="headerlink" href="#fines-by-street" title="Permalink to this heading">#</a></h3>
<p>QUESTION: Which are the streets with the greater number of fines? Locate the hotspots.</p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Group by streets and fine category, then sum up fines</span>
<span class="n">fines_streets</span> <span class="o">=</span> <span class="n">fines</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;street&quot;</span><span class="p">,</span> <span class="s2">&quot;category&quot;</span><span class="p">])[</span><span class="s2">&quot;fines&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">.</span><span class="n">unstack</span><span class="p">()</span>

<span class="c1"># Rearrange column order: LEVE, GRAVE, MUY GRAVE</span>
<span class="n">fines_streets</span> <span class="o">=</span> <span class="n">fines_streets</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">]]</span>

<span class="c1"># Create new column with the total amount of fines: LEVE + GRAVE + MUY GRAVE</span>
<span class="n">fines_streets</span><span class="p">[</span><span class="s2">&quot;total&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">fines_streets</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># Sort values by total amount of fines</span>
<span class="n">fines_streets</span> <span class="o">=</span> <span class="n">fines_streets</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s2">&quot;total&quot;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">fines_streets</span><span class="p">)</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>category                        LEVE  GRAVE  MUY GRAVE  total
street                                                       
ZELAI-ARIZTI PARKEA            916.0    2.0        NaN  918.0
SEKUNDINO ESNAOLA KALEA        619.0   29.0        2.0  650.0
ESKUALDEKO OSPITALEA           422.0  165.0        NaN  587.0
GELTOKIEN ENPARANTZA           504.0   21.0        6.0  531.0
PIEDAD KALEA                   429.0   32.0        1.0  462.0
BIDEZAR KALEA                  352.0   25.0        NaN  377.0
KALEBARREN                     269.0   25.0        NaN  294.0
ELIZKALE                       202.0   49.0        3.0  254.0
SAN GREGORIO KALEA             169.0   21.0        3.0  193.0
LEGAZPI KALEA                  167.0    6.0        NaN  173.0
ELKANO KALEA                   143.0   22.0        1.0  166.0
EUSKADI ENPARANTZA             137.0   12.0        NaN  149.0
URDANETA HIRIBIDEA             122.0   21.0        1.0  144.0
JAI-ALAI KALEA                 123.0    6.0        NaN  129.0
ESTEBAN ORBEGOZO IBILALDIA     101.0   15.0        NaN  116.0
LETURIATARREN ENPARANTZA        80.0   29.0        1.0  110.0
IPARRAGIRRE HIRIBIDEA           35.0   59.0        3.0   97.0
SORALUCE KALEA                  85.0    NaN        NaN   85.0
OKENDO KALEA                    67.0   12.0        NaN   79.0
TXURRUKA KALEA                  70.0    4.0        1.0   75.0
IBAIONDO                        58.0    8.0        NaN   66.0
ARTIZ AUZOA                     57.0    6.0        1.0   64.0
EUSKALERRIA HIRIBIDEA           29.0   33.0        1.0   63.0
ANTONINO ORAA KALEA             42.0   14.0        NaN   56.0
UROLA KALEA                     28.0   16.0        NaN   44.0
BELOKI HIRIBIDEA                28.0   13.0        1.0   42.0
IÑIGO DE LOIOLA KALEA           25.0   11.0        NaN   36.0
BUSKA SAGASTIZABAL PARKEA       24.0    6.0        NaN   30.0
ETXEBERRI AUZOA                 25.0    3.0        1.0   29.0
ISLAS FILIPINAS KALEA            7.0   11.0        NaN   18.0
ANTIO                           12.0    3.0        NaN   15.0
IPAR HAIZEA AUZOA               12.0    2.0        NaN   14.0
IZAZPI AUZOA                     4.0    7.0        1.0   12.0
ANTZIÑE HIRIBIDEA                5.0    6.0        NaN   11.0
LEGAZPI AUZUNEA                  9.0    NaN        NaN    9.0
SAN ISIDRO KALEA                 5.0    4.0        NaN    9.0
NAFARROA ENPARANTZA              6.0    NaN        NaN    6.0
SAKABANATUAK                     1.0    5.0        NaN    6.0
JOXE MIEL BARANDIARAN AUZUNEA    NaN    4.0        1.0    5.0
URTUBI AUZOA                     4.0    1.0        NaN    5.0
HIRI LORATEGIA                   1.0    4.0        NaN    5.0
ELGARRESTAMENDI KALEA            NaN    4.0        NaN    4.0
ARGIXAO AUZOA                    3.0    1.0        NaN    4.0
ZUMARRAGAKO INDUSTRIALDEA        1.0    1.0        NaN    2.0
EITZA BERRI                      2.0    NaN        NaN    2.0
ANGEL CRUZ JAKA AUZUNEA          NaN    NaN        1.0    1.0
</pre></div>
</div>
</div>
</div>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Define color palette</span>
<span class="n">palette</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;tab:blue&quot;</span><span class="p">,</span> <span class="s2">&quot;tab:orange&quot;</span><span class="p">,</span> <span class="s2">&quot;tab:red&quot;</span><span class="p">]</span>

<span class="c1"># Plot</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">12</span><span class="p">))</span>

<span class="n">fines_streets</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s2">&quot;total&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s2">&quot;total&quot;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">kind</span><span class="o">=</span><span class="s2">&quot;barh&quot;</span><span class="p">,</span>
                                                              <span class="n">stacked</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">palette</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s2">&quot;x&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_axisbelow</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;Number of fines 2018-2022&quot;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">11</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;# of fines&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">11</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">11</span><span class="p">,</span> <span class="n">loc</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">despine</span><span class="p">()</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<img alt="../_images/7105e68478ff1661c2a5e0ce463086de39eb1b56b7bed4caac10e97eb0a7f729.png" src="../_images/7105e68478ff1661c2a5e0ce463086de39eb1b56b7bed4caac10e97eb0a7f729.png" />
</div>
</div>
<p>I decided to put this information into a choropleth. That for, I first needed to form a map with the streets and neighborhoods of the town. I draw each polygon by hand using <a class="reference external" href="https://geojson.io/">https://geojson.io/</a>.</p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Read geographical data of streets into a geopandas dataframe</span>
<span class="n">zelai</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="s2">&quot;geojson/zelai_arizti_parkea.geojson&quot;</span><span class="p">)</span>
<span class="n">zelai</span><span class="p">[</span><span class="s2">&quot;street&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;ZELAI-ARIZTI PARKEA&quot;</span>
<span class="n">sekundino</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="s2">&quot;geojson/sekundino_esnaola_kalea.geojson&quot;</span><span class="p">)</span>
<span class="n">sekundino</span><span class="p">[</span><span class="s2">&quot;street&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;SEKUNDINO ESNAOLA KALEA&quot;</span>
<span class="n">ospitalea</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="s2">&quot;geojson/eskualdeko_ospitalea.geojson&quot;</span><span class="p">)</span>
<span class="n">ospitalea</span><span class="p">[</span><span class="s2">&quot;street&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;ESKUALDEKO OSPITALEA&quot;</span>
<span class="n">geltokien</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="s2">&quot;geojson/geltokien_enparantza.geojson&quot;</span><span class="p">)</span>
<span class="n">geltokien</span><span class="p">[</span><span class="s2">&quot;street&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;GELTOKIEN ENPARANTZA&quot;</span>
<span class="n">piedad</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="s2">&quot;geojson/piedad_kalea.geojson&quot;</span><span class="p">)</span>
<span class="n">piedad</span><span class="p">[</span><span class="s2">&quot;street&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;PIEDAD KALEA&quot;</span>
<span class="n">bidezar</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="s2">&quot;geojson/bidezar_kalea.geojson&quot;</span><span class="p">)</span>
<span class="n">bidezar</span><span class="p">[</span><span class="s2">&quot;street&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;BIDEZAR KALEA&quot;</span>
<span class="n">kalebarren</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="s2">&quot;geojson/kalebarren.geojson&quot;</span><span class="p">)</span>
<span class="n">kalebarren</span><span class="p">[</span><span class="s2">&quot;street&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;KALEBARREN&quot;</span>
<span class="n">elizkale</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="s2">&quot;geojson/elizkale.geojson&quot;</span><span class="p">)</span>
<span class="n">elizkale</span><span class="p">[</span><span class="s2">&quot;street&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;ELIZKALE&quot;</span>
<span class="n">gregorio</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="s2">&quot;geojson/san_gregorio_kalea.geojson&quot;</span><span class="p">)</span>
<span class="n">gregorio</span><span class="p">[</span><span class="s2">&quot;street&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;SAN GREGORIO KALEA&quot;</span>
<span class="n">legazpi</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="s2">&quot;geojson/legazpi_kalea.geojson&quot;</span><span class="p">)</span>
<span class="n">legazpi</span><span class="p">[</span><span class="s2">&quot;street&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;LEGAZPI KALEA&quot;</span>
<span class="n">elkano</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="s2">&quot;geojson/elkano_kalea.geojson&quot;</span><span class="p">)</span>
<span class="n">elkano</span><span class="p">[</span><span class="s2">&quot;street&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;ELKANO KALEA&quot;</span>
<span class="n">euskadi</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="s2">&quot;geojson/euskadi_enparantza.geojson&quot;</span><span class="p">)</span>
<span class="n">euskadi</span><span class="p">[</span><span class="s2">&quot;street&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;EUSKADI ENPARANTZA&quot;</span>
<span class="n">urdaneta</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="s2">&quot;geojson/urdaneta_hiribidea.geojson&quot;</span><span class="p">)</span>
<span class="n">urdaneta</span><span class="p">[</span><span class="s2">&quot;street&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;URDANETA HIRIBIDEA&quot;</span>
<span class="n">jai</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="s2">&quot;geojson/jai_alai_kalea.geojson&quot;</span><span class="p">)</span>
<span class="n">jai</span><span class="p">[</span><span class="s2">&quot;street&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;JAI-ALAI KALEA&quot;</span>
<span class="n">orbegozo</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="s2">&quot;geojson/esteban_orbegozo_ibilaldia.geojson&quot;</span><span class="p">)</span>
<span class="n">orbegozo</span><span class="p">[</span><span class="s2">&quot;street&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;ESTEBAN ORBEGOZO IBILALDIA&quot;</span>
<span class="n">leturia</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="s2">&quot;geojson/leturiatarren_enparantza.geojson&quot;</span><span class="p">)</span>
<span class="n">leturia</span><span class="p">[</span><span class="s2">&quot;street&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;LETURIATARREN ENPARANTZA&quot;</span>
<span class="n">iparragirre</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="s2">&quot;geojson/iparragirre_hiribidea.geojson&quot;</span><span class="p">)</span>
<span class="n">iparragirre</span><span class="p">[</span><span class="s2">&quot;street&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;IPARRAGIRRE HIRIBIDEA&quot;</span>
<span class="n">soraluze</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="s2">&quot;geojson/soraluze_kalea.geojson&quot;</span><span class="p">)</span>
<span class="n">soraluze</span><span class="p">[</span><span class="s2">&quot;street&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;SORALUZE KALEA&quot;</span>
<span class="n">okendo</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="s2">&quot;geojson/okendo_kalea.geojson&quot;</span><span class="p">)</span>
<span class="n">okendo</span><span class="p">[</span><span class="s2">&quot;street&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;OKENDO KALEA&quot;</span>
<span class="n">txurruka</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="s2">&quot;geojson/txurruka_kalea.geojson&quot;</span><span class="p">)</span>
<span class="n">txurruka</span><span class="p">[</span><span class="s2">&quot;street&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;TXURRUKA KALEA&quot;</span>
<span class="n">ibaiondo</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="s2">&quot;geojson/ibaiondo.geojson&quot;</span><span class="p">)</span>
<span class="n">ibaiondo</span><span class="p">[</span><span class="s2">&quot;street&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;IBAIONDO&quot;</span>
<span class="n">artiz</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="s2">&quot;geojson/artiz_auzoa.geojson&quot;</span><span class="p">)</span>
<span class="n">artiz</span><span class="p">[</span><span class="s2">&quot;street&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;ARTIZ AUZOA&quot;</span>
<span class="n">euskalerria</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="s2">&quot;geojson/euskalerria_hiribidea.geojson&quot;</span><span class="p">)</span>
<span class="n">euskalerria</span><span class="p">[</span><span class="s2">&quot;street&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;EUSKALERRIA HIRIBIDEA&quot;</span>
<span class="n">oraa</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="s2">&quot;geojson/antonino_oraa_kalea.geojson&quot;</span><span class="p">)</span>
<span class="n">oraa</span><span class="p">[</span><span class="s2">&quot;street&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;ANTONINO ORAA KALEA&quot;</span>
<span class="n">urola</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="s2">&quot;geojson/urola_kalea.geojson&quot;</span><span class="p">)</span>
<span class="n">urola</span><span class="p">[</span><span class="s2">&quot;street&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;UROLA KALEA&quot;</span>
<span class="n">beloki</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="s2">&quot;geojson/beloki_hiribidea.geojson&quot;</span><span class="p">)</span>
<span class="n">beloki</span><span class="p">[</span><span class="s2">&quot;street&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;BELOKI HIRIBIDEA&quot;</span>
<span class="n">loiola</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="s2">&quot;geojson/inigo_de_loiola_kalea.geojson&quot;</span><span class="p">)</span>
<span class="n">loiola</span><span class="p">[</span><span class="s2">&quot;street&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;IÑIGO DE LOIOLA KALEA&quot;</span>
<span class="n">busca</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="s2">&quot;geojson/busca_sagastizabal_parkea.geojson&quot;</span><span class="p">)</span>
<span class="n">busca</span><span class="p">[</span><span class="s2">&quot;street&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;BUSCA SAGASTIZABAL PARKEA&quot;</span>
<span class="n">etxeberri</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="s2">&quot;geojson/etxeberri_auzoa.geojson&quot;</span><span class="p">)</span>
<span class="n">etxeberri</span><span class="p">[</span><span class="s2">&quot;street&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;ETXEBERRI AUZOA&quot;</span>
<span class="n">filipinas</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="s2">&quot;geojson/islas_filipinas_kalea.geojson&quot;</span><span class="p">)</span>
<span class="n">filipinas</span><span class="p">[</span><span class="s2">&quot;street&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;ISLAS FILIPINAS KALEA&quot;</span>
<span class="n">antio</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="s2">&quot;geojson/antio.geojson&quot;</span><span class="p">)</span>
<span class="n">antio</span><span class="p">[</span><span class="s2">&quot;street&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;ANTIO&quot;</span>
<span class="n">ipar</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="s2">&quot;geojson/ipar_haizea_auzoa.geojson&quot;</span><span class="p">)</span>
<span class="n">ipar</span><span class="p">[</span><span class="s2">&quot;street&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;IPAR HAIZEA AUZOA&quot;</span>
<span class="n">izazpi</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="s2">&quot;geojson/izazpi_auzoa.geojson&quot;</span><span class="p">)</span>
<span class="n">izazpi</span><span class="p">[</span><span class="s2">&quot;street&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;IZAZPI AUZOA&quot;</span>
<span class="n">antzine</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="s2">&quot;geojson/antzine_hiribidea.geojson&quot;</span><span class="p">)</span>
<span class="n">antzine</span><span class="p">[</span><span class="s2">&quot;street&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;ANTZIÑE HIRIBIDEA&quot;</span>
<span class="n">legazpi_auzo</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="s2">&quot;geojson/legazpi_auzunea.geojson&quot;</span><span class="p">)</span>
<span class="n">legazpi_auzo</span><span class="p">[</span><span class="s2">&quot;street&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;LEGAZPI AUZUNEA&quot;</span>
<span class="n">isidro</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="s2">&quot;geojson/san_isidro_kalea.geojson&quot;</span><span class="p">)</span>
<span class="n">isidro</span><span class="p">[</span><span class="s2">&quot;street&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;SAN ISIDRO KALEA&quot;</span>
<span class="n">nafarroa</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="s2">&quot;geojson/nafarroa_enparantza.geojson&quot;</span><span class="p">)</span>
<span class="n">nafarroa</span><span class="p">[</span><span class="s2">&quot;street&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;NAFARROA ENPARANTZA&quot;</span>
<span class="n">barandi</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="s2">&quot;geojson/joxe_miel_barandiaran_auzunea.geojson&quot;</span><span class="p">)</span>
<span class="n">barandi</span><span class="p">[</span><span class="s2">&quot;street&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;JOXE MIEL BARANDIARAN AUZUNEA&quot;</span>
<span class="n">urtubi</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="s2">&quot;geojson/urtubi_auzoa.geojson&quot;</span><span class="p">)</span>
<span class="n">urtubi</span><span class="p">[</span><span class="s2">&quot;street&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;URTUBI AUZOA&quot;</span>
<span class="n">lorategia</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="s2">&quot;geojson/hiri_lorategia.geojson&quot;</span><span class="p">)</span>
<span class="n">lorategia</span><span class="p">[</span><span class="s2">&quot;street&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;HIRI LORATEGIA&quot;</span>
<span class="n">elgarrestamendi</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="s2">&quot;geojson/elgarrestamendi_kalea.geojson&quot;</span><span class="p">)</span>
<span class="n">elgarrestamendi</span><span class="p">[</span><span class="s2">&quot;street&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;ELGARRESTAMENDI KALEA&quot;</span>
<span class="n">argixao</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="s2">&quot;geojson/argixao_auzoa.geojson&quot;</span><span class="p">)</span>
<span class="n">argixao</span><span class="p">[</span><span class="s2">&quot;street&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;ARGIXAO AUZOA&quot;</span>
<span class="n">industrialdea</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="s2">&quot;geojson/zumarragako_industrialdea.geojson&quot;</span><span class="p">)</span>
<span class="n">industrialdea</span><span class="p">[</span><span class="s2">&quot;street&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;ZUMARRAGAKO INDUSTRIALDEA&quot;</span>
<span class="n">eitza</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="s2">&quot;geojson/eitza_berri.geojson&quot;</span><span class="p">)</span>
<span class="n">eitza</span><span class="p">[</span><span class="s2">&quot;street&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;EITZA BERRI&quot;</span>
<span class="n">jaka</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="s2">&quot;geojson/anjel_cruz_jaka_auzunea.geojson&quot;</span><span class="p">)</span>
<span class="n">jaka</span><span class="p">[</span><span class="s2">&quot;street&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;ANGEL CRUZ JAKA AUZUNEA&quot;</span>

<span class="c1"># Concatenate all dataframes into a unique one</span>
<span class="n">zumarraga</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">zelai</span><span class="p">,</span> <span class="n">sekundino</span><span class="p">,</span> <span class="n">ospitalea</span><span class="p">,</span> <span class="n">geltokien</span><span class="p">,</span> <span class="n">piedad</span><span class="p">,</span> <span class="n">bidezar</span><span class="p">,</span>
                       <span class="n">kalebarren</span><span class="p">,</span> <span class="n">elizkale</span><span class="p">,</span> <span class="n">gregorio</span><span class="p">,</span> <span class="n">legazpi</span><span class="p">,</span> <span class="n">elkano</span><span class="p">,</span> <span class="n">euskadi</span><span class="p">,</span>
                       <span class="n">urdaneta</span><span class="p">,</span> <span class="n">jai</span><span class="p">,</span> <span class="n">orbegozo</span><span class="p">,</span> <span class="n">leturia</span><span class="p">,</span> <span class="n">iparragirre</span><span class="p">,</span> <span class="n">soraluze</span><span class="p">,</span>
                       <span class="n">okendo</span><span class="p">,</span> <span class="n">txurruka</span><span class="p">,</span> <span class="n">ibaiondo</span><span class="p">,</span> <span class="n">artiz</span><span class="p">,</span> <span class="n">euskalerria</span><span class="p">,</span> <span class="n">oraa</span><span class="p">,</span>
                       <span class="n">urola</span><span class="p">,</span> <span class="n">beloki</span><span class="p">,</span> <span class="n">loiola</span><span class="p">,</span> <span class="n">busca</span><span class="p">,</span> <span class="n">filipinas</span><span class="p">,</span> <span class="n">antio</span><span class="p">,</span> <span class="n">ipar</span><span class="p">,</span>
                       <span class="n">izazpi</span><span class="p">,</span> <span class="n">antzine</span><span class="p">,</span> <span class="n">legazpi_auzo</span><span class="p">,</span> <span class="n">isidro</span><span class="p">,</span> <span class="n">nafarroa</span><span class="p">,</span> <span class="n">barandi</span><span class="p">,</span>
                       <span class="n">urtubi</span><span class="p">,</span> <span class="n">lorategia</span><span class="p">,</span> <span class="n">elgarrestamendi</span><span class="p">,</span> <span class="n">argixao</span><span class="p">,</span>
                       <span class="n">industrialdea</span><span class="p">,</span> <span class="n">eitza</span><span class="p">,</span> <span class="n">jaka</span><span class="p">,</span>
                       <span class="c1"># etxeberri,</span>
                      <span class="p">])</span>

<span class="c1"># Create a projected reference system to plot with a basemap</span>
<span class="n">zumarraga_3857</span> <span class="o">=</span> <span class="n">zumarraga</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">zumarraga_3857</span><span class="o">.</span><span class="n">geometry</span> <span class="o">=</span> <span class="n">zumarraga_3857</span><span class="o">.</span><span class="n">geometry</span><span class="o">.</span><span class="n">to_crs</span><span class="p">(</span><span class="n">epsg</span><span class="o">=</span><span class="mi">3857</span><span class="p">)</span>

<span class="c1"># Plot with a basemap</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="n">legend_kwds</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;title&#39;</span><span class="p">:</span> <span class="s1">&#39;Streets &amp; neighbourhoods&#39;</span><span class="p">,</span> <span class="s1">&#39;fontsize&#39;</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span>
               <span class="s1">&#39;loc&#39;</span><span class="p">:</span> <span class="s1">&#39;upper left&#39;</span><span class="p">,</span> <span class="s1">&#39;bbox_to_anchor&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mf">1.03</span><span class="p">),</span> <span class="s1">&#39;ncol&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">}</span>
<span class="n">zumarraga_3857</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="s2">&quot;street&quot;</span><span class="p">,</span> <span class="n">legend</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">legend_kwds</span><span class="o">=</span><span class="n">legend_kwds</span><span class="p">)</span>
<span class="n">contextily</span><span class="o">.</span><span class="n">add_basemap</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span>
                       <span class="n">source</span><span class="o">=</span><span class="n">contextily</span><span class="o">.</span><span class="n">providers</span><span class="o">.</span><span class="n">OpenStreetMap</span><span class="o">.</span><span class="n">Mapnik</span><span class="p">,</span>
                       <span class="c1"># source=contextily.providers.CartoDB.PositronNoLabels,</span>
                      <span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_axis_off</span><span class="p">()</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<img alt="../_images/d6f958a21cbe87136f4ac85f918a7cd37a8652883e333432311d6bf9137054df.png" src="../_images/d6f958a21cbe87136f4ac85f918a7cd37a8652883e333432311d6bf9137054df.png" />
</div>
</div>
<p>Having made the map, it was all about merging it with the fines dataframe to get the couple of choropleths shown below.</p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Merge geographical dataframe with fine by streets dataframe</span>
<span class="n">zumarraga_fines</span> <span class="o">=</span> <span class="n">zumarraga</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">fines_streets</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s2">&quot;left&quot;</span><span class="p">,</span>
                                  <span class="n">left_on</span><span class="o">=</span><span class="s2">&quot;street&quot;</span><span class="p">,</span> <span class="n">right_on</span><span class="o">=</span><span class="n">fines_streets</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>

<span class="c1"># Plot a choropleth by total number of fines</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="n">zumarraga_fines</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="s2">&quot;total&quot;</span><span class="p">,</span> <span class="n">legend</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s2">&quot;Greys&quot;</span><span class="p">,</span>
                    <span class="n">legend_kwds</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s2">&quot;# of fines&quot;</span><span class="p">,</span> <span class="s2">&quot;shrink&quot;</span><span class="p">:</span> <span class="mf">0.7</span><span class="p">})</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;Neighborhoods by TOTAL number of fines&quot;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">11</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_axis_off</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<img alt="../_images/129f3d7e052eec5edff2ad4daf971a39a0fa513803310f6756d35b28beaadb83.png" src="../_images/129f3d7e052eec5edff2ad4daf971a39a0fa513803310f6756d35b28beaadb83.png" />
</div>
</div>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Plot a choropleth by total number of serious (GRAVE) fines</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="n">zumarraga_fines</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="s2">&quot;GRAVE&quot;</span><span class="p">,</span> <span class="n">legend</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s2">&quot;Oranges&quot;</span><span class="p">,</span>
                    <span class="n">legend_kwds</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s2">&quot;# of fines&quot;</span><span class="p">,</span> <span class="s2">&quot;shrink&quot;</span><span class="p">:</span> <span class="mf">0.7</span><span class="p">})</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;Neighborhoods by serious &#39;GRAVE&#39; number of fines&quot;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">11</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_axis_off</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<img alt="../_images/885ab83fde24165162c4e250025642a43689986678ee3afee94874f06b22cc98.png" src="../_images/885ab83fde24165162c4e250025642a43689986678ee3afee94874f06b22cc98.png" />
</div>
</div>
</section>
<section id="fines-by-year">
<h3>Fines by year<a class="headerlink" href="#fines-by-year" title="Permalink to this heading">#</a></h3>
<p>QUESTION: How have the number of fines evolved during the last few years?</p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Group by year and fine category, then sum up fines</span>
<span class="n">fines_years</span> <span class="o">=</span> <span class="n">fines</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;year&quot;</span><span class="p">,</span> <span class="s2">&quot;category&quot;</span><span class="p">])[</span><span class="s2">&quot;fines&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">.</span><span class="n">unstack</span><span class="p">()</span>

<span class="c1"># Rearrange column order: LEVE, GRAVE, MUY GRAVE</span>
<span class="n">fines_years</span> <span class="o">=</span> <span class="n">fines_years</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">]]</span>

<span class="c1"># Create new column with the total amount of fines: LEVE + GRAVE + MUY GRAVE</span>
<span class="n">fines_years</span><span class="p">[</span><span class="s2">&quot;total&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">fines_years</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">fines_years</span><span class="p">)</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>category  LEVE  GRAVE  MUY GRAVE  total
year                                   
2018      1112    194          4   1310
2019       583    104          2    689
2020      1183     95          1   1279
2021       918    167         11   1096
2022      1604    158         11   1773
</pre></div>
</div>
</div>
</div>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Plot</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>

<span class="n">fines_years</span><span class="o">.</span><span class="n">drop</span><span class="p">([</span><span class="s2">&quot;total&quot;</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">kind</span><span class="o">=</span><span class="s2">&quot;bar&quot;</span><span class="p">,</span>
                                         <span class="n">stacked</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">palette</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s2">&quot;y&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_axisbelow</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">labelsize</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="n">labelsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;Number of fines&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;# of fines&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">bbox_to_anchor</span><span class="o">=</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">),</span> <span class="n">loc</span><span class="o">=</span><span class="s1">&#39;center left&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">despine</span><span class="p">()</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<img alt="../_images/2c43dabb75e3ee0e9536e1fdb8729e93c36d98ae7eab711412676d23468a6f7e.png" src="../_images/2c43dabb75e3ee0e9536e1fdb8729e93c36d98ae7eab711412676d23468a6f7e.png" />
</div>
</div>
</section>
<section id="fines-by-year-and-street">
<h3>Fines by year and street<a class="headerlink" href="#fines-by-year-and-street" title="Permalink to this heading">#</a></h3>
<p>QUESTION: How have the number of fines evolved during the last years in the top 10 fine-prone streets?</p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Group by year, street and fine category, then sum up fines</span>
<span class="n">fines_years_streets</span> <span class="o">=</span> <span class="n">fines</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;year&quot;</span><span class="p">,</span> <span class="s2">&quot;street&quot;</span><span class="p">,</span> <span class="s2">&quot;category&quot;</span><span class="p">])[</span><span class="s2">&quot;fines&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">.</span><span class="n">unstack</span><span class="p">()</span>

<span class="c1"># Rearrange column order: LEVE, GRAVE, MUY GRAVE</span>
<span class="n">fines_years_streets</span> <span class="o">=</span> <span class="n">fines_years_streets</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">]]</span>

<span class="c1"># Create new column with the total amount of fines</span>
<span class="n">fines_years_streets</span><span class="p">[</span><span class="s2">&quot;total&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">fines_years_streets</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">fines_years_streets</span><span class="p">)</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>category                   LEVE  GRAVE  MUY GRAVE  total
year street                                             
2018 ANTIO                  9.0    3.0        NaN   12.0
     ANTONINO ORAA KALEA    1.0    1.0        NaN    2.0
     ARGIXAO AUZOA          1.0    NaN        NaN    1.0
     ARTIZ AUZOA           24.0    1.0        NaN   25.0
     BELOKI HIRIBIDEA      12.0    3.0        NaN   15.0
...                         ...    ...        ...    ...
2022 SORALUCE KALEA         6.0    NaN        NaN    6.0
     TXURRUKA KALEA        43.0    1.0        1.0   45.0
     URDANETA HIRIBIDEA    62.0    5.0        NaN   67.0
     UROLA KALEA            9.0    1.0        NaN   10.0
     ZELAI-ARIZTI PARKEA  209.0    1.0        NaN  210.0

[189 rows x 4 columns]
</pre></div>
</div>
</div>
</div>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create a list with the names of the top 10 fine streets</span>
<span class="n">fines_streets_top10</span> <span class="o">=</span> <span class="n">fines_streets</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:</span><span class="mi">10</span><span class="p">]</span><span class="o">.</span><span class="n">index</span>

<span class="c1"># Filter top 10 streets</span>
<span class="n">fines_years_streets</span> <span class="o">=</span> <span class="n">fines_years_streets</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">fines_years_streets_top10</span> <span class="o">=</span> <span class="n">fines_years_streets</span><span class="p">[</span><span class="n">fines_years_streets</span><span class="p">[</span><span class="s2">&quot;street&quot;</span><span class="p">]</span>\
                                                <span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">fines_streets_top10</span><span class="p">)]</span>

<span class="c1"># Plot</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mf">7.5</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>

<span class="n">sns</span><span class="o">.</span><span class="n">pointplot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s2">&quot;year&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;total&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">fines_years_streets_top10</span><span class="p">,</span>
              <span class="n">hue</span><span class="o">=</span><span class="s2">&quot;street&quot;</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s2">&quot;y&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_axisbelow</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">labelsize</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="n">labelsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;Evolution of fines in top 10 fine-prone streets&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">13</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;# of fines&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">bbox_to_anchor</span><span class="o">=</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">),</span> <span class="n">loc</span><span class="o">=</span><span class="s1">&#39;center left&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">despine</span><span class="p">()</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<img alt="../_images/977172bc2af53fd5ee60f1284664a97456e0e888514ab8859c4d00dda80632e1.png" src="../_images/977172bc2af53fd5ee60f1284664a97456e0e888514ab8859c4d00dda80632e1.png" />
</div>
</div>
</section>
<section id="money-collected-from-fines">
<h3>Money collected from fines<a class="headerlink" href="#money-collected-from-fines" title="Permalink to this heading">#</a></h3>
<p>QUESTION: How much money does the municipality collect from fines?</p>
<p>The data comes with two columns related to the amount of money:</p>
<ul class="simple">
<li><p>“IMPORTE PAGADO”: which I have renamed as “paid”.</p></li>
<li><p>“IMPORTE PENDIENTE DE PAGO EN EJECUTIVA”: which I have renamed as “unpaid”.</p></li>
</ul>
<p>For the sake of clarity, I have added together both columns (I have supposed pending payments will eventually be processed).</p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create new column with the total amount</span>
<span class="n">fines</span><span class="p">[</span><span class="s2">&quot;paid_unpaid&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">fines</span><span class="p">[</span><span class="s2">&quot;paid&quot;</span><span class="p">]</span> <span class="o">+</span> <span class="n">fines</span><span class="p">[</span><span class="s2">&quot;unpaid&quot;</span><span class="p">]</span>

<span class="c1"># Group by year and fine category, then sum up fines</span>
<span class="n">fines_money</span> <span class="o">=</span> <span class="n">fines</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;year&quot;</span><span class="p">,</span> <span class="s2">&quot;category&quot;</span><span class="p">])[</span><span class="s2">&quot;paid_unpaid&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">.</span><span class="n">unstack</span><span class="p">()</span>

<span class="c1"># Rearrange column order: LEVE, GRAVE, MUY GRAVE</span>
<span class="n">fines_money</span> <span class="o">=</span> <span class="n">fines_money</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">]]</span>

<span class="c1"># Create new column with the total amount of money raised</span>
<span class="n">fines_money</span><span class="p">[</span><span class="s2">&quot;total&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">fines_money</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">fines_money</span><span class="p">)</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>category      LEVE     GRAVE  MUY GRAVE     total
year                                             
2018      19548.05  16623.60    1704.95  37876.60
2019       8359.39   8695.95     500.00  17555.34
2020      11778.40   6099.65     500.00  18378.05
2021      14145.21  14438.45    1134.95  29718.61
2022      27313.80  13633.91    4499.75  45447.46
</pre></div>
</div>
</div>
</div>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Plot</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>

<span class="n">fines_money</span><span class="o">.</span><span class="n">drop</span><span class="p">([</span><span class="s2">&quot;total&quot;</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">kind</span><span class="o">=</span><span class="s2">&quot;bar&quot;</span><span class="p">,</span>
                                         <span class="n">stacked</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">palette</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s2">&quot;y&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_axisbelow</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">labelsize</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="n">labelsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;Revenue from fines&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;euros (€)&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">bbox_to_anchor</span><span class="o">=</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">),</span> <span class="n">loc</span><span class="o">=</span><span class="s1">&#39;center left&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">despine</span><span class="p">()</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<img alt="../_images/af01a3a67f6524bb1c60cf4c65f79e5ae81932beb02e5be0d122a10568d1072a.png" src="../_images/af01a3a67f6524bb1c60cf4c65f79e5ae81932beb02e5be0d122a10568d1072a.png" />
</div>
</div>
<p>Finally, I find it interesting to summarise this graphic into one single figure: how much money do they collect roughly per year?</p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># How much money do they collect on average per year?</span>
<span class="n">avg_year</span> <span class="o">=</span> <span class="n">fines_money</span><span class="p">[</span><span class="s2">&quot;total&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>

<span class="c1"># The same value roughly</span>
<span class="n">avg_year_rough</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">avg_year</span><span class="p">,</span> <span class="o">-</span><span class="mi">3</span><span class="p">)</span>

<span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The amount of money collected per year is roughly **</span><span class="si">{</span><span class="n">avg_year_rough</span><span class="si">:</span><span class="s2">.0f</span><span class="si">}</span><span class="s2"> €**&quot;</span><span class="p">))</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<p>The amount of money collected per year is roughly <strong>30000 €</strong></p>
</div>
</div>
</section>
</section>
<section id="conclusions">
<h2>Conclusions<a class="headerlink" href="#conclusions" title="Permalink to this heading">#</a></h2>
<p>This project was about shedding light on a freely available open data set. In this case, I downloaded the files of traffic fines in my town. The analysis consisted in exploring ways of representing the data to get a clear picture of its contents. This kind of work should be useful for the people involved, to watch out for trends and follow up new policies. And for the public, to effectively make the information transparent for all of us.</p>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./notebooks"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="olele.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Handfan Reviews</p>
      </div>
    </a>
    <a class="right-next"
       href="urban_trees.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Urban Trees</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#background">Background</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#the-data">The data</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#data-validation">Data validation</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#exploratory-data-analysis">Exploratory Data Analysis</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#fines-by-street">Fines by street</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#fines-by-year">Fines by year</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#fines-by-year-and-street">Fines by year and street</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#money-collected-from-fines">Money collected from fines</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#conclusions">Conclusions</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Mikel Imaz, 2023
</p>

  </div>
  
  <div class="footer-item">
    

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
<div class="extra_footer">
  <p>
<a rel="license" href="http://creativecommons.org/licenses/by/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by/4.0/88x31.png" /></a><br />This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>.
</p>

</div>
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=5b4479735964841361fd"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=5b4479735964841361fd"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>