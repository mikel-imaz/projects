
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Movie records &#8212; datuz</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-book-theme.css?v=a3416100" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- So that users can add custom icons -->
  <script src="../_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script async="async" src="https://www.googletagmanager.com/gtag/js?id=G-232XT3FYCT"></script>
    <script>
                window.dataLayer = window.dataLayer || [];
                function gtag(){ dataLayer.push(arguments); }
                gtag('js', new Date());
                gtag('config', 'G-232XT3FYCT');
            </script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>
                window.dataLayer = window.dataLayer || [];
                function gtag(){ dataLayer.push(arguments); }
                gtag('js', new Date());
                gtag('config', 'G-232XT3FYCT');
            </script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'notebooks/p-films';</script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <link rel="icon" href="../_static/logo.svg"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Median Ages" href="ages.html" />
    <link rel="prev" title="Municipal Indicators" href="p-udalmap.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/logo.svg" class="logo__image only-light" alt="datuz - Home"/>
    <img src="../_static/logo.svg" class="logo__image only-dark pst-js-only" alt="datuz - Home"/>
  
  
</a></div>
        <div class="sidebar-primary-item">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../intro.html">
                    Data science projects
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../projects_competition.html">Competition projects</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="book-popularity.html">What makes a good book?</a></li>
<li class="toctree-l2"><a class="reference internal" href="internet-patterns.html">Analyzing global internet patterns</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleepinc.html">Helping find a better sleep</a></li>
<li class="toctree-l2"><a class="reference internal" href="hairloss.html">Hairloss Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="employee-network.html">Employee Network Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="hospital.html">Reducing hospital readmissions</a></li>
<li class="toctree-l2"><a class="reference internal" href="hotels.html">Predicting hotel cancellations</a></li>
<li class="toctree-l2"><a class="reference internal" href="webpage.html">Was a website redesign successful?</a></li>
<li class="toctree-l2"><a class="reference internal" href="segmentation.html">Improving customer segmentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="abalone.html">Seafood farm process improvement</a></li>
</ul>
</details></li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="../projects_personal.html">Personal projects</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="moles.html">Mole monitoring</a></li>
<li class="toctree-l2"><a class="reference internal" href="book-translation.html">Book translation</a></li>
<li class="toctree-l2"><a class="reference internal" href="p-antio-gpt.html">Sentiment analysis with embeddings</a></li>
<li class="toctree-l2"><a class="reference internal" href="self-tracking.html">Self tracking</a></li>
<li class="toctree-l2"><a class="reference internal" href="quakes.html">Earth Quakes</a></li>
<li class="toctree-l2"><a class="reference internal" href="climate.html">Climate Change</a></li>
<li class="toctree-l2"><a class="reference internal" href="english-vocab.html">English Vocab</a></li>
<li class="toctree-l2"><a class="reference internal" href="antio.html">Bar Reviews</a></li>
<li class="toctree-l2"><a class="reference internal" href="ignatian.html">Ignatian Pilgrims</a></li>
<li class="toctree-l2"><a class="reference internal" href="p-udalmap.html">Municipal Indicators</a></li>
<li class="toctree-l2 current active"><a class="current reference internal" href="#">Movie records</a></li>
<li class="toctree-l2"><a class="reference internal" href="ages.html">Median Ages</a></li>
<li class="toctree-l2"><a class="reference internal" href="water.html">Water Supplies</a></li>
<li class="toctree-l2"><a class="reference internal" href="olele.html">Handfan Reviews</a></li>
<li class="toctree-l2"><a class="reference internal" href="traffic_fines.html">Traffic Fines</a></li>
<li class="toctree-l2"><a class="reference internal" href="urban_trees.html">Urban Trees</a></li>
<li class="toctree-l2"><a class="reference internal" href="breads.html">Bread Prices</a></li>
</ul>
</details></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Other</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../writings.html">Writings</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../writings/la-importancia-de-adquirir-competencias-en-materia-de-datos.html">La importancia de adquirir competencias en materia de datos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../writings/la-ciencia-de-convertir-los-datos-en-valor.html">La ciencia de convertir los datos en valor</a></li>
<li class="toctree-l2"><a class="reference internal" href="../writings/que-es-la-inteligencia-artificial.html">¿Qué es la Inteligencia Artificial?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../writings/aprendizaje-autom%C3%A1tico-vs-programaci%C3%B3n-tradicional.html">Aprendizaje automático vs programación tradicional</a></li>
<li class="toctree-l2"><a class="reference internal" href="../writings/que-es-la-inteligencia-artificial-generativa.html">¿Qué es la Inteligencia Artificial Generativa?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../writings/la-definicion-de-atributos-en-aprendizaje-automatico.html">La definición de atributos en aprendizaje automático</a></li>
<li class="toctree-l2"><a class="reference internal" href="../writings/por-que-python.html">¿Por qué Python?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../writings/estadistica-computacional-la-estadistica-sin-dolor.html">Estadística computacional: la estadística sin dolor</a></li>
<li class="toctree-l2"><a class="reference internal" href="../writings/como-funciona-el-aprendizaje-profundo.html">¿Cómo funciona el aprendizaje profundo?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../writings/ia-predictiva-vs-ia-generativa.html">IA predictiva vs IA generativa</a></li>
<li class="toctree-l2"><a class="reference internal" href="../writings/etica-en-la-ia.html">Ética en la IA</a></li>
<li class="toctree-l2"><a class="reference internal" href="../writings/las-3-capas-de-un-proyecto-de-datos.html">Las 3 capas de un proyecto de datos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../writings/ia-aplicada-la-empresa-empoderada-por-la-ia.html">IA aplicada: la empresa empoderada por la IA</a></li>
<li class="toctree-l2"><a class="reference internal" href="../writings/llm-modo-de-empleo.html">LLM: modo de empleo</a></li>
<li class="toctree-l2"><a class="reference internal" href="../writings/ley-de-ia-de-la-ue.html">Ley de IA de la UE</a></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="../about-me.html">About me</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">


<a href="https://github.com/mikel-imaz/projects" target="_blank"
   class="btn btn-sm btn-source-repository-button"
   title="Source repository"
   data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>

</a>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/notebooks/p-films.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button>


<button class="btn btn-sm pst-navbar-icon search-button search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
</button>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Movie records</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#background">Background</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#the-data">The data</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#data-validation">Data validation</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#duration-of-the-films">Duration of the films</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#rating-analysis">Rating analysis</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#original-languages">Original languages</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#conclusion">Conclusion</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="movie-records">
<h1>Movie records<a class="headerlink" href="#movie-records" title="Link to this heading">#</a></h1>
<p><img alt="Cine" src="../_images/cine.jpg" /></p>
<p><span class="math notranslate nohighlight">\(^{1}\)</span>Photo of the local cinema taken from <a class="reference external" href="https://www.zelaiarizti.eus/eu/gela-erreserbak">Zelai Arizti</a>.</p>
<p><svg version="1.1" width="1.0em" height="1.0em" class="sd-octicon sd-octicon-calendar" viewBox="0 0 16 16" aria-hidden="true"><path d="M4.75 0a.75.75 0 0 1 .75.75V2h5V.75a.75.75 0 0 1 1.5 0V2h1.25c.966 0 1.75.784 1.75 1.75v10.5A1.75 1.75 0 0 1 13.25 16H2.75A1.75 1.75 0 0 1 1 14.25V3.75C1 2.784 1.784 2 2.75 2H4V.75A.75.75 0 0 1 4.75 0ZM2.5 7.5v6.75c0 .138.112.25.25.25h10.5a.25.25 0 0 0 .25-.25V7.5Zm10.75-4H2.75a.25.25 0 0 0-.25.25V6h11V3.75a.25.25 0 0 0-.25-.25Z"></path></svg> Feb, 2024</p>
<p><span class="sd-sphinx-override sd-badge sd-outline-primary sd-text-primary">Data mining with API</span></p>
<section id="background">
<h2>Background<a class="headerlink" href="#background" title="Link to this heading">#</a></h2>
<p>For a little over a decade, I’ve been keeping a record of the movies I watch, both in theaters and at home. I jot down the title, director, release year, and rate them with stars based on how I felt about them. In reality, my rating system consists of just two numbers: I give 4 stars if I liked the movie and 5 if I loved it. If a movie didn’t evoke any special feelings, I leave the rating box blank. This dataset now has almost a thousand entries, and I’ve thought about analyzing it to answer some questions I have.</p>
<p>For instance, lately I’ve had the feeling that movies are getting longer. Is this true, or is it just my impression? To get the duration in minutes for each film and integrate it into my table, I thought about using the API of the online movie database <a class="reference external" href="https://www.themoviedb.org/">TMDB</a> (The Movie Database). Once connected to it, besides the runtime, I could also complete the information, for example, with the ratings received by each movie and compare my tastes with those of the community.</p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Import basic packages</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">seaborn</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">sns</span>

<span class="c1"># TMDB API wrapper</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">tmdbsimple</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">tmdb</span>

<span class="c1"># More packages</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">iso639</span><span class="w"> </span><span class="kn">import</span> <span class="n">Lang</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">warnings</span>
</pre></div>
</div>
</div>
</details>
</div>
</section>
<section id="the-data">
<h2>The data<a class="headerlink" href="#the-data" title="Link to this heading">#</a></h2>
<p>First I read my records from a CSV file:</p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Read from file my movie records</span>
<span class="n">films</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;data/films.csv&#39;</span><span class="p">,</span> <span class="n">usecols</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="s1">&#39;director&#39;</span><span class="p">,</span> <span class="s1">&#39;year&#39;</span><span class="p">,</span> <span class="s1">&#39;stars&#39;</span><span class="p">])</span>
<span class="n">films</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>title</th>
      <th>director</th>
      <th>year</th>
      <th>stars</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Inland Empire</td>
      <td>David Lynch</td>
      <td>2006</td>
      <td>4.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>La vida es un milagro</td>
      <td>Emir Kusturica</td>
      <td>2004</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2</th>
      <td>El arca rusa</td>
      <td>Aleksandr Sokurov</td>
      <td>2002</td>
      <td>5.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Biutiful</td>
      <td>Alejandro Glez. Iñárritu</td>
      <td>2010</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Carretera perdida</td>
      <td>David Lynch</td>
      <td>1997</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>928</th>
      <td>Anatomía de una caída</td>
      <td>Justine Triet</td>
      <td>2023</td>
      <td>4.0</td>
    </tr>
    <tr>
      <th>929</th>
      <td>Fallen Leaves</td>
      <td>Aki Kaurismäki</td>
      <td>2023</td>
      <td>4.0</td>
    </tr>
    <tr>
      <th>930</th>
      <td>Chinas</td>
      <td>Arantxa Echevarría</td>
      <td>2023</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>931</th>
      <td>Una habitación con vistas</td>
      <td>James Ivory</td>
      <td>1985</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>932</th>
      <td>Els encantats</td>
      <td>Elena Trapé</td>
      <td>2023</td>
      <td>4.0</td>
    </tr>
  </tbody>
</table>
<p>933 rows × 4 columns</p>
</div></div></div>
</div>
<p>Next, I am going to collect the information to complete the table. To simplify the code and facilitate access, I found the following library for the TMDB API: <a class="reference external" href="https://github.com/celiao/tmdbsimple">tmdbsimple</a>. It has a function that utilizes the movie search utility based on its title. In my table, the movie titles are often in Spanish, and this function finds the closest match in the TMBD database. To fine-tune the results, I include the movie’s release year in the search.</p>
<p>Next, once the movie identifier is found, I access the movie record so I can get the following information:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">tmdb_id</span></code>: film TMDB identifier.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tmdb_title</span></code>: title given in TMDB (normaly the English one).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tmdb_genre</span></code>: here I filter the response to differentiate between <em>documentaries</em> and just <em>films</em> (fiction films).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tmdb_lang</span></code>: original language.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tmdb_runtime</span></code>: duration of the film in minutes.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tmdb_vote_cnt</span></code>: number of ratings.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tmdb_vote_avg</span></code>: average rating.</p></li>
</ul>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Init TMDB API parameters</span>
<span class="n">tmdb</span><span class="o">.</span><span class="n">API_KEY</span> <span class="o">=</span> <span class="s2">&quot;api-key&quot;</span>
<span class="n">tmdb</span><span class="o">.</span><span class="n">REQUESTS_TIMEOUT</span> <span class="o">=</span> <span class="mi">5</span>  <span class="c1"># seconds, for both connect and read</span>


<span class="c1"># ****SEARCH MOVIE****</span>

<span class="c1"># Init Search method</span>
<span class="n">search</span> <span class="o">=</span> <span class="n">tmdb</span><span class="o">.</span><span class="n">Search</span><span class="p">()</span>

<span class="c1"># Iterate through my records&#39; title and year to find TMDB id</span>
<span class="n">tmdb_ids</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">tmdb_titles</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">films</span><span class="p">)):</span>
    
    <span class="n">response</span> <span class="o">=</span> <span class="n">search</span><span class="o">.</span><span class="n">movie</span><span class="p">(</span><span class="n">query</span><span class="o">=</span><span class="n">films</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row</span><span class="p">,</span> <span class="s1">&#39;title&#39;</span><span class="p">],</span>
                            <span class="n">year</span><span class="o">=</span><span class="n">films</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row</span><span class="p">,</span> <span class="s1">&#39;year&#39;</span><span class="p">])</span>

    <span class="c1"># Iterate through the possible movies</span>
    <span class="n">ids</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">titles</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">response</span><span class="p">[</span><span class="s1">&#39;results&#39;</span><span class="p">])):</span>
        <span class="n">ids</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">response</span><span class="p">[</span><span class="s1">&#39;results&#39;</span><span class="p">][</span><span class="n">i</span><span class="p">][</span><span class="s1">&#39;id&#39;</span><span class="p">])</span>
        <span class="n">titles</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">response</span><span class="p">[</span><span class="s1">&#39;results&#39;</span><span class="p">][</span><span class="n">i</span><span class="p">][</span><span class="s1">&#39;title&#39;</span><span class="p">])</span>

    <span class="c1"># I will take the most probable film found, first in the list</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">tmdb_ids</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ids</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="n">tmdb_titles</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">titles</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="n">tmdb_ids</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
        <span class="n">tmdb_titles</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>


<span class="c1"># Assign new columns to the dataframe    </span>
<span class="n">films</span><span class="p">[</span><span class="s1">&#39;tmdb_title&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">tmdb_titles</span>
<span class="n">films</span><span class="p">[</span><span class="s1">&#39;tmdb_id&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">tmdb_ids</span>



<span class="c1"># ****GET MOVIE INFO****</span>

<span class="c1"># Iterate through the films to fetch the required info</span>
<span class="n">tmdb_genres</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">tmdb_langs</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">tmdb_runtimes</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">tmdb_vote_cnts</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">tmdb_vote_avgs</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">films</span><span class="p">)):</span>

    <span class="n">movie</span> <span class="o">=</span> <span class="n">tmdb</span><span class="o">.</span><span class="n">Movies</span><span class="p">(</span><span class="n">films</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row</span><span class="p">,</span> <span class="s1">&#39;tmdb_id&#39;</span><span class="p">])</span>

    <span class="c1"># Get genres distinguishing Documentaries from Films</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">tmdb_genre</span> <span class="o">=</span> <span class="s1">&#39;Film&#39;</span>
        <span class="k">for</span> <span class="n">genre</span> <span class="ow">in</span> <span class="n">movie</span><span class="o">.</span><span class="n">info</span><span class="p">()[</span><span class="s1">&#39;genres&#39;</span><span class="p">]:</span>
            <span class="k">if</span> <span class="n">genre</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Documentary&#39;</span><span class="p">:</span>
                <span class="n">tmdb_genre</span> <span class="o">=</span> <span class="s1">&#39;Documentary&#39;</span>
        <span class="n">tmdb_genres</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">tmdb_genre</span><span class="p">)</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="n">tmdb_genres</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>

    <span class="c1"># Get the language</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">tmdb_langs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">movie</span><span class="o">.</span><span class="n">info</span><span class="p">()[</span><span class="s1">&#39;original_language&#39;</span><span class="p">])</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="n">tmdb_langs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>

    <span class="c1"># Get the runtime</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">tmdb_runtimes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">movie</span><span class="o">.</span><span class="n">info</span><span class="p">()[</span><span class="s1">&#39;runtime&#39;</span><span class="p">])</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="n">tmdb_runtimes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>

    <span class="c1"># Get the rating counts</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">tmdb_vote_cnts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">movie</span><span class="o">.</span><span class="n">info</span><span class="p">()[</span><span class="s1">&#39;vote_count&#39;</span><span class="p">])</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="n">tmdb_vote_cnts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>

    <span class="c1"># Get the rating</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">tmdb_vote_avgs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">movie</span><span class="o">.</span><span class="n">info</span><span class="p">()[</span><span class="s1">&#39;vote_average&#39;</span><span class="p">])</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="n">tmdb_vote_avgs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
    

<span class="c1"># Assign new columns to the dataframe  </span>
<span class="n">films</span><span class="p">[</span><span class="s1">&#39;tmdb_genre&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">tmdb_genres</span>
<span class="n">films</span><span class="p">[</span><span class="s1">&#39;tmdb_lang&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">tmdb_langs</span>
<span class="n">films</span><span class="p">[</span><span class="s1">&#39;tmdb_runtime&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">tmdb_runtimes</span>
<span class="n">films</span><span class="p">[</span><span class="s1">&#39;tmdb_vote_cnt&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">tmdb_vote_cnts</span>
<span class="n">films</span><span class="p">[</span><span class="s1">&#39;tmdb_vote_avg&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">tmdb_vote_avgs</span>

<span class="c1"># Print the resulting dataframe</span>
<span class="n">films</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>title</th>
      <th>director</th>
      <th>year</th>
      <th>stars</th>
      <th>tmdb_title</th>
      <th>tmdb_id</th>
      <th>tmdb_genre</th>
      <th>tmdb_lang</th>
      <th>tmdb_runtime</th>
      <th>tmdb_vote_cnt</th>
      <th>tmdb_vote_avg</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Inland Empire</td>
      <td>David Lynch</td>
      <td>2006</td>
      <td>4.0</td>
      <td>Inland Empire</td>
      <td>1730</td>
      <td>Film</td>
      <td>en</td>
      <td>180</td>
      <td>1007</td>
      <td>7.023</td>
    </tr>
    <tr>
      <th>1</th>
      <td>La vida es un milagro</td>
      <td>Emir Kusturica</td>
      <td>2004</td>
      <td>NaN</td>
      <td>Life Is a Miracle</td>
      <td>20128</td>
      <td>Film</td>
      <td>sr</td>
      <td>155</td>
      <td>163</td>
      <td>7.365</td>
    </tr>
    <tr>
      <th>2</th>
      <td>El arca rusa</td>
      <td>Aleksandr Sokurov</td>
      <td>2002</td>
      <td>5.0</td>
      <td>Russian Ark</td>
      <td>16646</td>
      <td>Film</td>
      <td>ru</td>
      <td>99</td>
      <td>425</td>
      <td>7.3</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Biutiful</td>
      <td>Alejandro Glez. Iñárritu</td>
      <td>2010</td>
      <td>NaN</td>
      <td>Biutiful</td>
      <td>45958</td>
      <td>Film</td>
      <td>es</td>
      <td>148</td>
      <td>1040</td>
      <td>7.255</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Carretera perdida</td>
      <td>David Lynch</td>
      <td>1997</td>
      <td>NaN</td>
      <td>Lost Highway</td>
      <td>638</td>
      <td>Film</td>
      <td>en</td>
      <td>134</td>
      <td>2422</td>
      <td>7.6</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>928</th>
      <td>Anatomía de una caída</td>
      <td>Justine Triet</td>
      <td>2023</td>
      <td>4.0</td>
      <td>Anatomy of a Fall</td>
      <td>915935</td>
      <td>Film</td>
      <td>fr</td>
      <td>152</td>
      <td>897</td>
      <td>7.7</td>
    </tr>
    <tr>
      <th>929</th>
      <td>Fallen Leaves</td>
      <td>Aki Kaurismäki</td>
      <td>2023</td>
      <td>4.0</td>
      <td>Fallen Leaves</td>
      <td>986280</td>
      <td>Film</td>
      <td>fi</td>
      <td>81</td>
      <td>269</td>
      <td>7.258</td>
    </tr>
    <tr>
      <th>930</th>
      <td>Chinas</td>
      <td>Arantxa Echevarría</td>
      <td>2023</td>
      <td>NaN</td>
      <td>Chinas</td>
      <td>1034387</td>
      <td>Film</td>
      <td>es</td>
      <td>119</td>
      <td>8</td>
      <td>7.938</td>
    </tr>
    <tr>
      <th>931</th>
      <td>Una habitación con vistas</td>
      <td>James Ivory</td>
      <td>1985</td>
      <td>NaN</td>
      <td>A Room with a View</td>
      <td>11257</td>
      <td>Film</td>
      <td>en</td>
      <td>117</td>
      <td>690</td>
      <td>6.988</td>
    </tr>
    <tr>
      <th>932</th>
      <td>Els encantats</td>
      <td>Elena Trapé</td>
      <td>2023</td>
      <td>4.0</td>
      <td>The Enchanted</td>
      <td>1022725</td>
      <td>Film</td>
      <td>ca</td>
      <td>108</td>
      <td>8</td>
      <td>6.8</td>
    </tr>
  </tbody>
</table>
<p>933 rows × 11 columns</p>
</div></div></div>
</div>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Save data into a file</span>
<span class="n">films</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;data/films-tmdb.csv&#39;</span><span class="p">)</span>

<span class="c1"># Read from file</span>
<span class="n">films</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;data/films-tmdb.csv&#39;</span><span class="p">,</span> <span class="n">index_col</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># Get dataframe info</span>
<span class="n">films</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 933 entries, 0 to 932
Data columns (total 12 columns):
 #   Column         Non-Null Count  Dtype  
---  ------         --------------  -----  
 0   Unnamed: 0     933 non-null    int64  
 1   title          933 non-null    object 
 2   director       933 non-null    object 
 3   year           933 non-null    int64  
 4   stars          176 non-null    float64
 5   tmdb_title     927 non-null    object 
 6   tmdb_id        927 non-null    float64
 7   tmdb_genre     927 non-null    object 
 8   tmdb_lang      927 non-null    object 
 9   tmdb_runtime   927 non-null    float64
 10  tmdb_vote_cnt  927 non-null    float64
 11  tmdb_vote_avg  927 non-null    float64
dtypes: float64(5), int64(2), object(5)
memory usage: 87.6+ KB
</pre></div>
</div>
</div>
</div>
</section>
<section id="data-validation">
<h2>Data validation<a class="headerlink" href="#data-validation" title="Link to this heading">#</a></h2>
<p>Missing values in the <code class="docutils literal notranslate"><span class="pre">tmdb_</span></code> columns indicate that the film was not found in TMDB, so I discard those rows altogether since there is no information available for them.
Furthermore, I adjust the data types for integers (id, runtime, number of ratings) and categorize the genre, language, and the number of stars that I assign. In the latter case, 4 stars become “liked,” 5 stars become “loved,” and missing values are classified as “untagged.”</p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Drop films that were not found in TMDB</span>
<span class="n">films</span> <span class="o">=</span> <span class="n">films</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="s1">&#39;tmdb_id&#39;</span><span class="p">)</span>

<span class="c1"># Convert to integer data types</span>
<span class="n">films</span><span class="p">[</span><span class="s1">&#39;tmdb_id&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">films</span><span class="p">[</span><span class="s1">&#39;tmdb_id&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;int64&#39;</span><span class="p">)</span>
<span class="n">films</span><span class="p">[</span><span class="s1">&#39;tmdb_runtime&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">films</span><span class="p">[</span><span class="s1">&#39;tmdb_runtime&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;int64&#39;</span><span class="p">)</span>
<span class="n">films</span><span class="p">[</span><span class="s1">&#39;tmdb_vote_cnt&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">films</span><span class="p">[</span><span class="s1">&#39;tmdb_vote_cnt&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;int64&#39;</span><span class="p">)</span>

<span class="c1"># Round rating values</span>
<span class="n">films</span><span class="p">[</span><span class="s1">&#39;tmdb_vote_avg&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">films</span><span class="p">[</span><span class="s1">&#39;tmdb_vote_avg&#39;</span><span class="p">],</span> <span class="mi">1</span><span class="p">)</span>

<span class="c1"># Categorize &quot;stars&quot;, my personal preferences, as follows</span>
<span class="n">films</span><span class="p">[</span><span class="s1">&#39;stars&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">films</span><span class="p">[</span><span class="s1">&#39;stars&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">({</span><span class="mi">5</span><span class="p">:</span> <span class="s1">&#39;loved&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">:</span> <span class="s1">&#39;liked&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">:</span> <span class="s1">&#39;untagged&#39;</span><span class="p">})</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;category&#39;</span><span class="p">)</span>

<span class="c1"># Categorize genre elements: Film, Documentary.</span>
<span class="n">films</span><span class="p">[</span><span class="s1">&#39;tmdb_genre&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">films</span><span class="p">[</span><span class="s1">&#39;tmdb_genre&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;category&#39;</span><span class="p">)</span>

<span class="c1"># Categorize languages</span>
<span class="n">films</span><span class="p">[</span><span class="s1">&#39;tmdb_lang&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">films</span><span class="p">[</span><span class="s1">&#39;tmdb_lang&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;category&#39;</span><span class="p">)</span>

<span class="c1"># Get dataframe info</span>
<span class="n">films</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
Index: 927 entries, 0 to 932
Data columns (total 12 columns):
 #   Column         Non-Null Count  Dtype   
---  ------         --------------  -----   
 0   Unnamed: 0     927 non-null    int64   
 1   title          927 non-null    object  
 2   director       927 non-null    object  
 3   year           927 non-null    int64   
 4   stars          927 non-null    category
 5   tmdb_title     927 non-null    object  
 6   tmdb_id        927 non-null    int64   
 7   tmdb_genre     927 non-null    category
 8   tmdb_lang      927 non-null    category
 9   tmdb_runtime   927 non-null    int64   
 10  tmdb_vote_cnt  927 non-null    int64   
 11  tmdb_vote_avg  927 non-null    float64 
dtypes: category(3), float64(1), int64(5), object(3)
memory usage: 76.7+ KB
</pre></div>
</div>
</div>
</div>
</section>
<section id="duration-of-the-films">
<h2>Duration of the films<a class="headerlink" href="#duration-of-the-films" title="Link to this heading">#</a></h2>
<p>Let’s first analyze the duration of the movies. A histogram will provide us with their distribution.</p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Plot</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>

<span class="n">sns</span><span class="o">.</span><span class="n">histplot</span><span class="p">(</span><span class="n">films</span><span class="p">[</span><span class="s1">&#39;tmdb_runtime&#39;</span><span class="p">],</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">stat</span><span class="o">=</span><span class="s2">&quot;count&quot;</span><span class="p">,</span>
             <span class="n">discrete</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">kde</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;Runtime (min)&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">11</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;Number of films&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">11</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xticks</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">220</span><span class="p">,</span> <span class="mi">20</span><span class="p">),</span> <span class="n">labels</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">220</span><span class="p">,</span> <span class="mi">20</span><span class="p">)))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">despine</span><span class="p">()</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<img alt="../_images/561dcc644ffa77395abd923d5da00d5f8e5e0c69d09215049fe8f80bb58ab661.png" src="../_images/561dcc644ffa77395abd923d5da00d5f8e5e0c69d09215049fe8f80bb58ab661.png" />
</div>
</div>
<p>We see that there are about 8 movies with a duration of 0 minutes. This is because the value of this field was not filled in the TMDB record, so we discard them before calculating the average duration value of the films.</p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Remove records with runtime 0</span>
<span class="n">films_t</span> <span class="o">=</span> <span class="n">films</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">films</span><span class="p">[</span><span class="s1">&#39;tmdb_runtime&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">,</span> <span class="p">:]</span>

<span class="c1"># Print mean value</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Mean duration is --&gt; </span><span class="si">{</span><span class="n">films_t</span><span class="p">[</span><span class="s1">&#39;tmdb_runtime&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="si">:</span><span class="s2">.0f</span><span class="si">}</span><span class="s2"> minutes&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Mean duration is --&gt; 106 minutes
</pre></div>
</div>
</div>
</div>
<p>Therefore, the average duration of a feature film is approximately one hour and three quarters, which matches the idea I had.</p>
<p>Out of curiosity, I extract the ten longest movies from those I have seen.</p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Define list with columns to show</span>
<span class="n">show_cols</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;director&#39;</span><span class="p">,</span> <span class="s1">&#39;year&#39;</span><span class="p">,</span> <span class="s1">&#39;tmdb_title&#39;</span><span class="p">,</span> <span class="s1">&#39;tmdb_runtime&#39;</span><span class="p">]</span>

<span class="c1"># Print ten most lengthy movies</span>
<span class="n">films_t</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="n">show_cols</span><span class="p">]</span>\
            <span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;tmdb_runtime&#39;</span><span class="p">],</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>director</th>
      <th>year</th>
      <th>tmdb_title</th>
      <th>tmdb_runtime</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>801</th>
      <td>Martin Scorsese</td>
      <td>2019</td>
      <td>The Irishman</td>
      <td>209</td>
    </tr>
    <tr>
      <th>655</th>
      <td>Martin Scorsese</td>
      <td>2005</td>
      <td>No Direction Home: Bob Dylan</td>
      <td>208</td>
    </tr>
    <tr>
      <th>139</th>
      <td>Akira Kurosawa</td>
      <td>1954</td>
      <td>Seven Samurai</td>
      <td>207</td>
    </tr>
    <tr>
      <th>511</th>
      <td>Nuri Bilge Ceylan</td>
      <td>2014</td>
      <td>Winter Sleep</td>
      <td>196</td>
    </tr>
    <tr>
      <th>299</th>
      <td>Robert B. Weide</td>
      <td>2012</td>
      <td>Woody Allen: A Documentary</td>
      <td>192</td>
    </tr>
    <tr>
      <th>607</th>
      <td>Richard Attenborough</td>
      <td>1982</td>
      <td>Gandhi</td>
      <td>191</td>
    </tr>
    <tr>
      <th>180</th>
      <td>Marcel Carné</td>
      <td>1945</td>
      <td>Children of Paradise</td>
      <td>191</td>
    </tr>
    <tr>
      <th>30</th>
      <td>Luchino Visconti</td>
      <td>1963</td>
      <td>The Leopard</td>
      <td>186</td>
    </tr>
    <tr>
      <th>259</th>
      <td>Andrei Tarkovsky</td>
      <td>1966</td>
      <td>Andrei Rublev</td>
      <td>183</td>
    </tr>
    <tr>
      <th>0</th>
      <td>David Lynch</td>
      <td>2006</td>
      <td>Inland Empire</td>
      <td>180</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Next, I plot the movies based on their duration, distinguishing between documentaries and fiction films on the graph. I include the yearly mean value on the graph as well.</p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Plot</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">7</span><span class="p">))</span>


<span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s2">&quot;year&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;tmdb_runtime&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">films_t</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span>
                <span class="n">hue</span><span class="o">=</span><span class="s2">&quot;tmdb_genre&quot;</span><span class="p">,</span> <span class="n">hue_order</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Film&#39;</span><span class="p">,</span> <span class="s1">&#39;Documentary&#39;</span><span class="p">])</span>

<span class="n">films_t</span><span class="o">.</span><span class="n">pivot_table</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="s1">&#39;year&#39;</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="s1">&#39;tmdb_runtime&#39;</span><span class="p">,</span> <span class="n">aggfunc</span><span class="o">=</span><span class="s1">&#39;mean&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">11</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;Runtime&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">11</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">bbox_to_anchor</span><span class="o">=</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">),</span> <span class="n">loc</span><span class="o">=</span><span class="s1">&#39;center left&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
          <span class="n">labels</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;Film&#39;</span><span class="p">,</span> <span class="s1">&#39;Documentary&#39;</span><span class="p">,</span> <span class="s1">&#39;Mean value&#39;</span><span class="p">])</span>
<span class="n">sns</span><span class="o">.</span><span class="n">despine</span><span class="p">()</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<img alt="../_images/4e22315bb7617d9ebc1517a92a66b6c7d9cfcd0dd3ce4be5f0a067b015026ef5.png" src="../_images/4e22315bb7617d9ebc1517a92a66b6c7d9cfcd0dd3ce4be5f0a067b015026ef5.png" />
</div>
</div>
<p>In the graph, it can be observed that the majority of the movies I have seen are from recent years. Regarding their duration, it does not seem to have increased. However, I am going to focus the graph on the last 20 years, from 2004 to 2024, and I am going to exclude the documentaries to see if there is an upward trend in duration or if such a trend does not exist.</p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Define cut-off year</span>
<span class="n">y</span> <span class="o">=</span> <span class="mi">2004</span>

<span class="c1"># Get only films in the last &quot;y&quot; years and not documentaries</span>
<span class="n">films_ty</span> <span class="o">=</span> <span class="n">films_t</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">films_t</span><span class="p">[</span><span class="s1">&#39;year&#39;</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="n">y</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">films_t</span><span class="p">[</span><span class="s1">&#39;tmdb_genre&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Film&#39;</span><span class="p">),</span> <span class="p">:]</span>

<span class="c1"># Plot</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">7</span><span class="p">))</span>

<span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s2">&quot;year&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;tmdb_runtime&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">films_ty</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>

<span class="n">films_ty</span><span class="o">.</span><span class="n">pivot_table</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="s1">&#39;year&#39;</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="s1">&#39;tmdb_runtime&#39;</span><span class="p">,</span> <span class="n">aggfunc</span><span class="o">=</span><span class="s1">&#39;mean&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">11</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;Movie duration&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">11</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">bbox_to_anchor</span><span class="o">=</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">),</span> <span class="n">loc</span><span class="o">=</span><span class="s1">&#39;center left&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Film&#39;</span><span class="p">,</span> <span class="s1">&#39;Mean value&#39;</span><span class="p">])</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xticks</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">2004</span><span class="p">,</span> <span class="mi">2024</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="n">labels</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">2004</span><span class="p">,</span> <span class="mi">2024</span><span class="p">,</span> <span class="mi">2</span><span class="p">)))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">despine</span><span class="p">()</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<img alt="../_images/1487beee9371b9c2708d9ef5991d0837862f5560d2759f66370c60c2c9e1725c.png" src="../_images/1487beee9371b9c2708d9ef5991d0837862f5560d2759f66370c60c2c9e1725c.png" />
</div>
</div>
<p>I would say there hasn’t been a significant change in the duration of the movies, at least in the ones I’ve seen, so the notion that movies are getting longer must be just my impression that doesn’t align with reality.</p>
</section>
<section id="rating-analysis">
<h2>Rating analysis<a class="headerlink" href="#rating-analysis" title="Link to this heading">#</a></h2>
<p>To ensure consistency in the movie ratings, I will only consider movies that have received a minimum of, for example, 100 ratings.</p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Minimum number of votings to consider movie rating valid</span>
<span class="n">v</span> <span class="o">=</span> <span class="mi">100</span>

<span class="c1"># Get films with at least 100 votes</span>
<span class="n">films_v</span> <span class="o">=</span> <span class="n">films</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">films</span><span class="p">[</span><span class="s1">&#39;tmdb_vote_cnt&#39;</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="n">v</span><span class="p">,</span> <span class="p">:]</span>

<span class="c1"># Print how many of them there are</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">films_v</span><span class="p">)</span><span class="si">}</span><span class="s2"> out of the </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">films</span><span class="p">)</span><span class="si">}</span><span class="s2"> movies have more than </span><span class="si">{</span><span class="n">v</span><span class="si">}</span><span class="s2"> votes in TMDb&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>648 out of the 927 movies have more than 100 votes in TMDb
</pre></div>
</div>
</div>
</div>
<p>These are the 10 movies that have received the most number of ratings:</p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Define list of columns to show</span>
<span class="n">show_cols</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;director&#39;</span><span class="p">,</span> <span class="s1">&#39;year&#39;</span><span class="p">,</span> <span class="s1">&#39;tmdb_title&#39;</span><span class="p">,</span> <span class="s1">&#39;tmdb_vote_cnt&#39;</span><span class="p">,</span> <span class="s1">&#39;tmdb_vote_avg&#39;</span><span class="p">]</span>

<span class="c1"># Print most voted movies</span>
<span class="n">films_v</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="n">show_cols</span><span class="p">]</span>\
            <span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;tmdb_vote_cnt&#39;</span><span class="p">],</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>director</th>
      <th>year</th>
      <th>tmdb_title</th>
      <th>tmdb_vote_cnt</th>
      <th>tmdb_vote_avg</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>468</th>
      <td>Christopher Nolan</td>
      <td>2014</td>
      <td>Interstellar</td>
      <td>33563</td>
      <td>8.4</td>
    </tr>
    <tr>
      <th>792</th>
      <td>Todd Phillips</td>
      <td>2019</td>
      <td>Joker</td>
      <td>24056</td>
      <td>8.2</td>
    </tr>
    <tr>
      <th>618</th>
      <td>Pete Docter</td>
      <td>2015</td>
      <td>Inside Out</td>
      <td>19984</td>
      <td>7.9</td>
    </tr>
    <tr>
      <th>818</th>
      <td>Joon-ho Bong</td>
      <td>2019</td>
      <td>Parasite</td>
      <td>17057</td>
      <td>8.5</td>
    </tr>
    <tr>
      <th>627</th>
      <td>Denis Villeneuve</td>
      <td>2016</td>
      <td>Arrival</td>
      <td>16927</td>
      <td>7.6</td>
    </tr>
    <tr>
      <th>919</th>
      <td>Olivier Nakache</td>
      <td>2011</td>
      <td>The Intouchables</td>
      <td>16499</td>
      <td>8.3</td>
    </tr>
    <tr>
      <th>539</th>
      <td>Morten Tyldum</td>
      <td>2014</td>
      <td>The Imitation Game</td>
      <td>16309</td>
      <td>8.0</td>
    </tr>
    <tr>
      <th>580</th>
      <td>Damien Chazelle</td>
      <td>2016</td>
      <td>La La Land</td>
      <td>15977</td>
      <td>7.9</td>
    </tr>
    <tr>
      <th>650</th>
      <td>Christopher Nolan</td>
      <td>2017</td>
      <td>Dunkirk</td>
      <td>15792</td>
      <td>7.5</td>
    </tr>
    <tr>
      <th>577</th>
      <td>Hayao Miyazaki</td>
      <td>2001</td>
      <td>Spirited Away</td>
      <td>15490</td>
      <td>8.5</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>And these are the ones that have received the highest ratings:</p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Print most rated movies</span>
<span class="n">films_v</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="n">show_cols</span><span class="p">]</span>\
            <span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;tmdb_vote_avg&#39;</span><span class="p">],</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>director</th>
      <th>year</th>
      <th>tmdb_title</th>
      <th>tmdb_vote_cnt</th>
      <th>tmdb_vote_avg</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>34</th>
      <td>Sergio Leone</td>
      <td>1966</td>
      <td>The Good, the Bad and the Ugly</td>
      <td>8062</td>
      <td>8.5</td>
    </tr>
    <tr>
      <th>818</th>
      <td>Joon-ho Bong</td>
      <td>2019</td>
      <td>Parasite</td>
      <td>17057</td>
      <td>8.5</td>
    </tr>
    <tr>
      <th>442</th>
      <td>Giuseppe Tornatore</td>
      <td>1988</td>
      <td>Cinema Paradiso</td>
      <td>4108</td>
      <td>8.5</td>
    </tr>
    <tr>
      <th>816</th>
      <td>Isao Takahata</td>
      <td>2003</td>
      <td>Grave of the Fireflies</td>
      <td>5087</td>
      <td>8.5</td>
    </tr>
    <tr>
      <th>139</th>
      <td>Akira Kurosawa</td>
      <td>1954</td>
      <td>Seven Samurai</td>
      <td>3391</td>
      <td>8.5</td>
    </tr>
    <tr>
      <th>577</th>
      <td>Hayao Miyazaki</td>
      <td>2001</td>
      <td>Spirited Away</td>
      <td>15490</td>
      <td>8.5</td>
    </tr>
    <tr>
      <th>489</th>
      <td>Damien Chazelle</td>
      <td>2014</td>
      <td>Whiplash</td>
      <td>14324</td>
      <td>8.4</td>
    </tr>
    <tr>
      <th>426</th>
      <td>Milos Forman</td>
      <td>1975</td>
      <td>One Flew Over the Cuckoo's Nest</td>
      <td>9921</td>
      <td>8.4</td>
    </tr>
    <tr>
      <th>409</th>
      <td>Carlos Sorin</td>
      <td>2008</td>
      <td>Rear Window</td>
      <td>6118</td>
      <td>8.4</td>
    </tr>
    <tr>
      <th>230</th>
      <td>Fernando Meirelles</td>
      <td>2002</td>
      <td>City of God</td>
      <td>6920</td>
      <td>8.4</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>For a clearer visual reference, I place these movies into three different groups corresponding to my personal ratings of them.</p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Plot</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">7</span><span class="p">))</span>

<span class="n">warnings</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s1">&#39;ignore&#39;</span><span class="p">)</span> <span class="c1"># swarmplot does not fit, but ignore warning</span>
<span class="n">sns</span><span class="o">.</span><span class="n">swarmplot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s2">&quot;stars&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;tmdb_vote_avg&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">films_v</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.75</span><span class="p">,</span>
              <span class="n">order</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;untagged&#39;</span><span class="p">,</span> <span class="s1">&#39;liked&#39;</span><span class="p">,</span> <span class="s1">&#39;loved&#39;</span><span class="p">],</span>
              <span class="n">hue</span><span class="o">=</span><span class="s2">&quot;tmdb_genre&quot;</span><span class="p">,</span> <span class="n">hue_order</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Film&#39;</span><span class="p">,</span> <span class="s1">&#39;Documentary&#39;</span><span class="p">])</span>

<span class="n">sns</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s2">&quot;stars&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;tmdb_vote_avg&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">films_v</span><span class="p">,</span>
              <span class="n">boxprops</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">linewidth</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">facecolor</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;grey&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span>
                <span class="n">whiskerprops</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">linewidth</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;grey&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span>
                <span class="n">medianprops</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">linewidth</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;grey&quot;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span>
                <span class="n">capprops</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">linewidth</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;grey&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">11</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;Rating in TMDb&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">11</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xticks</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span> <span class="n">labels</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;I did not tag them&#39;</span><span class="p">,</span>
                                <span class="s1">&#39;I liked them&#39;</span><span class="p">,</span> <span class="s1">&#39;I loved them&#39;</span><span class="p">])</span>
<span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">bbox_to_anchor</span><span class="o">=</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">),</span> <span class="n">loc</span><span class="o">=</span><span class="s1">&#39;center left&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">despine</span><span class="p">()</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<img alt="../_images/c15588cad14a5898623bbb6093f58c332b6c5ccc192064568ec9cf408cdd601a.png" src="../_images/c15588cad14a5898623bbb6093f58c332b6c5ccc192064568ec9cf408cdd601a.png" />
</div>
</div>
<p>In the graph, I see that among the ones I loved, there are a couple of movies that also enjoyed much public favor. Which ones are they?</p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Append my valoration to print</span>
<span class="n">show_cols</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;stars&#39;</span><span class="p">)</span>

<span class="c1"># Show maximum rating movies among loved ones</span>
<span class="n">films_v</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">films_v</span><span class="p">[</span><span class="s1">&#39;stars&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;loved&#39;</span><span class="p">,</span> <span class="n">show_cols</span><span class="p">]</span>\
            <span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">&#39;tmdb_vote_avg&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>director</th>
      <th>year</th>
      <th>tmdb_title</th>
      <th>tmdb_vote_cnt</th>
      <th>tmdb_vote_avg</th>
      <th>stars</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>426</th>
      <td>Milos Forman</td>
      <td>1975</td>
      <td>One Flew Over the Cuckoo's Nest</td>
      <td>9921</td>
      <td>8.4</td>
      <td>loved</td>
    </tr>
    <tr>
      <th>193</th>
      <td>Billy Wilder</td>
      <td>1960</td>
      <td>The Apartment</td>
      <td>2103</td>
      <td>8.2</td>
      <td>loved</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Oh, definitely!</p>
<p>Which is that film that I loved, but got a lower rating in TMDB?</p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Show the movie with less rating among the loved ones</span>
<span class="n">films_v</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">films_v</span><span class="p">[</span><span class="s1">&#39;stars&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;loved&#39;</span><span class="p">,</span> <span class="n">show_cols</span><span class="p">]</span>\
            <span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">&#39;tmdb_vote_avg&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>director</th>
      <th>year</th>
      <th>tmdb_title</th>
      <th>tmdb_vote_cnt</th>
      <th>tmdb_vote_avg</th>
      <th>stars</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>658</th>
      <td>Manuel Martín Cuenca</td>
      <td>2017</td>
      <td>The Motive</td>
      <td>257</td>
      <td>6.2</td>
      <td>loved</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>And what about the movies that I didn’t label because they didn’t particularly strike me (or I forgot to label them), yet they have high ratings? I list the six that appear at the top of the graph in the untagged group.</p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Show maximum rating movie among untagged ones</span>
<span class="n">films_v</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">films_v</span><span class="p">[</span><span class="s1">&#39;stars&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;untagged&#39;</span><span class="p">,</span> <span class="n">show_cols</span><span class="p">]</span>\
            <span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">&#39;tmdb_vote_avg&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>director</th>
      <th>year</th>
      <th>tmdb_title</th>
      <th>tmdb_vote_cnt</th>
      <th>tmdb_vote_avg</th>
      <th>stars</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>818</th>
      <td>Joon-ho Bong</td>
      <td>2019</td>
      <td>Parasite</td>
      <td>17057</td>
      <td>8.5</td>
      <td>untagged</td>
    </tr>
    <tr>
      <th>139</th>
      <td>Akira Kurosawa</td>
      <td>1954</td>
      <td>Seven Samurai</td>
      <td>3391</td>
      <td>8.5</td>
      <td>untagged</td>
    </tr>
    <tr>
      <th>816</th>
      <td>Isao Takahata</td>
      <td>2003</td>
      <td>Grave of the Fireflies</td>
      <td>5087</td>
      <td>8.5</td>
      <td>untagged</td>
    </tr>
    <tr>
      <th>577</th>
      <td>Hayao Miyazaki</td>
      <td>2001</td>
      <td>Spirited Away</td>
      <td>15490</td>
      <td>8.5</td>
      <td>untagged</td>
    </tr>
    <tr>
      <th>34</th>
      <td>Sergio Leone</td>
      <td>1966</td>
      <td>The Good, the Bad and the Ugly</td>
      <td>8062</td>
      <td>8.5</td>
      <td>untagged</td>
    </tr>
    <tr>
      <th>442</th>
      <td>Giuseppe Tornatore</td>
      <td>1988</td>
      <td>Cinema Paradiso</td>
      <td>4108</td>
      <td>8.5</td>
      <td>untagged</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>I definitely should have uprated Parasite! (But by no means Cinema Paradiso).</p>
<p>And what’s that movie that’s so low in the ratings?</p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Show that outlier among untagged ones</span>
<span class="n">films_v</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">films_v</span><span class="p">[</span><span class="s1">&#39;stars&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;untagged&#39;</span><span class="p">,</span> <span class="n">show_cols</span><span class="p">]</span>\
            <span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">&#39;tmdb_vote_avg&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>director</th>
      <th>year</th>
      <th>tmdb_title</th>
      <th>tmdb_vote_cnt</th>
      <th>tmdb_vote_avg</th>
      <th>stars</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>142</th>
      <td>Ed. Wood</td>
      <td>1959</td>
      <td>Plan 9 from Outer Space</td>
      <td>509</td>
      <td>4.2</td>
      <td>untagged</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>It’s the famous Ed Wood movie, considered to be the worst in the history of cinema!</p>
</section>
<section id="original-languages">
<h2>Original languages<a class="headerlink" href="#original-languages" title="Link to this heading">#</a></h2>
<p>Once we’re in the thick of it, I found it interesting to consider the original language of the movies I’ve watched over these years. Perhaps this information would tell me something about the type of cinema I prefer.</p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Define number of languages</span>
<span class="n">n</span> <span class="o">=</span> <span class="mi">10</span>

<span class="c1"># Get the n most frequent languages</span>
<span class="n">films_nlang</span> <span class="o">=</span> <span class="n">films</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="s1">&#39;tmdb_lang&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>

<span class="c1"># Convert their language codes into full names</span>
<span class="n">films_nlang</span> <span class="o">=</span> <span class="n">films_nlang</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">films_nlang</span><span class="p">[</span><span class="s1">&#39;tmdb_lang&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">Lang</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">films_nlang</span><span class="p">[</span><span class="s1">&#39;tmdb_lang&#39;</span><span class="p">]]</span>
<span class="n">films_nlang</span> <span class="o">=</span> <span class="n">films_nlang</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;tmdb_lang&#39;</span><span class="p">)</span>

<span class="c1"># Plot</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>

<span class="n">films_nlang</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">kind</span><span class="o">=</span><span class="s2">&quot;barh&quot;</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s2">&quot;x&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_axisbelow</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;Most common original languages&quot;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">11</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;number of movies&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">11</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">11</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span><span class="o">.</span><span class="n">set_visible</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">invert_yaxis</span><span class="p">()</span>
<span class="n">sns</span><span class="o">.</span><span class="n">despine</span><span class="p">()</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<img alt="../_images/a8d117526af64ed5364657358ef44e86d205fdb7af532288c62817b348ef0e90.png" src="../_images/a8d117526af64ed5364657358ef44e86d205fdb7af532288c62817b348ef0e90.png" />
</div>
</div>
<p>The top three main languages were as expected, and so were the following ones. As Korean and Danish appear on this list, it confirms the special interest I have in the cinema of these countries.</p>
</section>
<section id="conclusion">
<h2>Conclusion<a class="headerlink" href="#conclusion" title="Link to this heading">#</a></h2>
<p>This little project allowed me to analyze the personal movie record I’ve been updating for some years. I found it interesting to have the option to automatically add further data of each movie from TMDB, as it saves me the trouble of doing it manually, and my table has indeed become more comprehensive.</p>
<p>Regarding the questions I had in mind, it seems that the duration of the films does not tend to increase, at least not significantly, after an analysis that has been purely visual.</p>
<p>As for the community ratings and whether they are in line with my tastes, well, it’s a bit of everything. However, one thing that is clear is that TMDB ratings don’t help much in identifying good movies since the vast majority fall between 6 and 8 points. However, they do help in recognizing big hits based on the number of ratings.</p>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "my-venv-01"
        },
        kernelOptions: {
            name: "my-venv-01",
            path: "./notebooks"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'my-venv-01'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="p-udalmap.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Municipal Indicators</p>
      </div>
    </a>
    <a class="right-next"
       href="ages.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Median Ages</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#background">Background</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#the-data">The data</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#data-validation">Data validation</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#duration-of-the-films">Duration of the films</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#rating-analysis">Rating analysis</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#original-languages">Original languages</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#conclusion">Conclusion</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Mikel Imaz, 2023-2025
</p>

  </div>
  
  <div class="footer-item">
    

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
<div class="extra_footer">
  <p>
<a rel="license" href="http://creativecommons.org/licenses/by/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by/4.0/88x31.png" /></a><br />This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>.
</p>

</div>
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>